
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Transformations &#8212; UQpy v3.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="StochasticProcess" href="stochastic_process.html" />
    <link rel="prev" title="SampleMethods" href="samplemethods.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="transformations">
<span id="id1"></span><h1>Transformations<a class="headerlink" href="#transformations" title="Permalink to this headline">¶</a></h1>
<p>This module contains functionality for all the transformations methods supported in <code class="docutils literal notranslate"><span class="pre">UQpy</span></code>.
The module currently contains the following classes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Nataf</span></code>: Class to perform the Nataf isoprobabilistic transformation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Correlate</span></code>: Class to induce correlation sto standard normal random variables.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Uncorrelate</span></code>: Class to remove correlation from standard normal random variables.</p></li>
</ul>
<div class="section" id="nataf">
<h2>Nataf<a class="headerlink" href="#nataf" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Nataf</span></code> is   a   class   for   transforming   random   variables   using   the   <cite>Nataf</cite> transformation  and  calculating  the  correlation  distortion.
According  to  the Nataf transformation theory, a <cite>n</cite>-dimensional dependent random vector <span class="math notranslate nohighlight">\(\textbf{x}=[X_1,...,X_n]\)</span> for which the  marginal cumulative distributions <span class="math notranslate nohighlight">\(F_i(x_i)\)</span>  and the correlattion matrix <span class="math notranslate nohighlight">\(\textbf{C}_x=[\xi_{ij}]\)</span> are known, can be transformed (component-wise) to standard normal random vector <span class="math notranslate nohighlight">\(\textbf{z}=[Z_1,...,Z_n]\)</span> with correlation matrix <span class="math notranslate nohighlight">\(\textbf{C}_z=[\rho_{ij}]\)</span> through the transformation:</p>
<div class="math notranslate nohighlight">
\[Z_{i}=\Phi^{-1}(F_i(X_{i}))\]</div>
<p>where <span class="math notranslate nohighlight">\(\Phi(\cdot)\)</span> is the standard normal cumulative distribution function.</p>
<p>This transformation causes a <cite>correlation distortion</cite>; the correlation coefficient between the standard normal variables <span class="math notranslate nohighlight">\(Z_i\)</span> and <span class="math notranslate nohighlight">\(Z_j\)</span> is not equal to its counterpart in the  random space (<span class="math notranslate nohighlight">\(\rho_{ij} \neq \xi_{ij}\)</span>). In this case <span class="math notranslate nohighlight">\(\rho_{ij}\)</span> can be determined through the following integral equation:</p>
<div class="math notranslate nohighlight">
\[\xi_{ij} =\dfrac{1}{\sigma_{X_i}\sigma_{X_j}}\int_{-\infty}^{\infty}\int_{-\infty}^{\infty}\left(X_i-\mu_{X_i}\right)\left(X_j-\mu_{X_j}\right)\phi_2(Z_i,Z_j;\rho_{ij})dZ_idZ_j\]</div>
<p>where <span class="math notranslate nohighlight">\(X_i =F_i^{-1}(\Phi(Z_{i}))\)</span> and <span class="math notranslate nohighlight">\(\phi_2(\cdot)\)</span> is the bivariate standard normal probability density function. The integration is directly evaluated using a quadratic two-dimensional Gauss-Legendre integration.</p>
<p>After the correlation matrix <span class="math notranslate nohighlight">\(\textbf{C}_z=[\rho_{ij}]\)</span> is determined, the mutually independent standard normal vector <span class="math notranslate nohighlight">\(\textbf{U}=[U_1,...,U_n]\)</span> can be calculated as:</p>
<div class="math notranslate nohighlight">
\[\textbf{u} = \mathbf{H}^{-1} \mathbf{z}\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathbf{H}\)</span> is the lower triangular matrix resulting from the Cholesky decomposition of the correlation matrix, i.e. <span class="math notranslate nohighlight">\(\mathbf{C_z}=\mathbf{H}\mathbf{H}^\intercal\)</span>.</p>
<p>The Jacobian of the Nataf transformation can be also estimated with the <code class="docutils literal notranslate"><span class="pre">Nataf</span></code> class as:</p>
<div class="math notranslate nohighlight">
\[\mathbf{J_{xu}}=\dfrac{\partial\mathbf{x}}{\partial\mathbf{u}}= \dfrac{\partial\mathbf{x}}{\partial\mathbf{z}} =\left[\dfrac{\phi(Z_i)}{f_i(X_i)}\right]\mathbf{H}.\]</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Nataf</span></code> class  is the parent class for the <code class="docutils literal notranslate"><span class="pre">Forward</span></code> class which performs the Nataf transformation and the <code class="docutils literal notranslate"><span class="pre">Inverse</span></code> class which performs the inverse Nataf transformation:</p>
<div class="math notranslate nohighlight">
\[\mathbf{z}=\mathbf{H}\mathbf{u}^\intercal\]</div>
<div class="math notranslate nohighlight">
\[X_{i}=F_i^{-1}(\Phi(Z_{i}))\]</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Forward</span></code> and <code class="docutils literal notranslate"><span class="pre">Inverse</span></code>  classes can be imported in a python script using the following command:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">UQpy.Transformations</span> <span class="kn">import</span> <span class="n">Forward</span><span class="p">,</span> <span class="n">Inverse</span>
</pre></div>
</div>
<dl class="class">
<dt id="UQpy.Transformations.Nataf">
<em class="property">class </em><code class="sig-prename descclassname">UQpy.Transformations.</code><code class="sig-name descname">Nataf</code><span class="sig-paren">(</span><em class="sig-param">input_samples=None</em>, <em class="sig-param">dimension=None</em>, <em class="sig-param">corr=None</em>, <em class="sig-param">dist_name=None</em>, <em class="sig-param">dist_params=None</em>, <em class="sig-param">beta=None</em>, <em class="sig-param">itam_error1=None</em>, <em class="sig-param">itam_error2=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/UQpy/Transformations.html#Nataf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#UQpy.Transformations.Nataf" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Description:</dt><dd><p>A class to perform the Nataf transformation of samples from a user-defined distribution to N(0, 1).</p>
</dd>
<dt>Input:</dt><dd><dl class="field-list">
<dt class="field-odd">param input_samples</dt>
<dd class="field-odd"><p>An object of type SampleMethods, ndarray and InvNataf</p>
</dd>
<dt class="field-even">type input_samples</dt>
<dd class="field-even"><p>object</p>
</dd>
<dt class="field-odd">param dist_name</dt>
<dd class="field-odd"><p>A list containing the names of the distributions of the random variables.
Distribution names must match those in the Distributions module.
If the distribution does not match one from the Distributions module, the user must provide
custom_dist.py.
The length of the string must be 1 (if all distributions are the same) or equal to dimension</p>
</dd>
<dt class="field-even">type dist_name</dt>
<dd class="field-even"><p>string list</p>
</dd>
<dt class="field-odd">param dist_params</dt>
<dd class="field-odd"><p>Parameters of the distribution
Parameters for each random variable are defined as ndarrays
Each item in the list, dist_params[i], specifies the parameters for the corresponding distribution,</p>
<blockquote>
<div><p>dist[i]</p>
</div></blockquote>
</dd>
<dt class="field-even">type dist_params</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>param: distribution: An object list containing the distributions of the random variables.</dt><dd><p>Each item in the list is an object of the Distribution class (see Distributions.py).
The list has length equal to dimension.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">type distribution</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p>:param corr The correlation matrix of the random variables in the parameter space.
:type corr: ndarray</p>
<dl class="field-list simple">
<dt class="field-odd">param itam_error1</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type itam_error1</dt>
<dd class="field-even"><p>float</p>
</dd>
<dt class="field-odd">param itam_error2</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type itam_error1</dt>
<dd class="field-even"><p>float</p>
</dd>
<dt class="field-odd">param beta</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type itam_error1</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd>
<dt>Output:</dt><dd><dl class="field-list simple">
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>Nataf.corr: The distorted correlation matrix of the random variables in the standard space;</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>Nataf.corr: ndarray</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>Nataf.samplesN01: An array of N(0,1) samples;</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>Nataf.corr: ndarray</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>Nataf.samples: An array of samples following the normal distribution.</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>Nataf.corr: ndarray</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>Nataf.jacobian: An array containing the Jacobian of the transformation.</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>Nataf.jacobian: ndarray</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<div class="section" id="forward">
<h3>Forward<a class="headerlink" href="#forward" title="Permalink to this headline">¶</a></h3>
<p>This is the class that runs the forward Nataf transformation.</p>
<p>Usage example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">UQpy.Transformations</span> <span class="kn">import</span> <span class="n">Forward</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">UQpy.Distributions</span> <span class="kn">import</span> <span class="n">Gamma</span><span class="p">,</span> <span class="n">Lognormal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist1</span> <span class="o">=</span> <span class="n">Gamma</span><span class="p">(</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist2</span> <span class="o">=</span> <span class="n">Lognormal</span><span class="p">(</span><span class="n">s</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">MCS</span><span class="p">(</span><span class="n">dist_object</span><span class="o">=</span><span class="p">[</span><span class="n">dist1</span><span class="p">,</span><span class="n">dist2</span><span class="p">],</span> <span class="n">nsamples</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>   <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">samples</span><span class="p">)</span>
<span class="go">        UQpy: Running Monte Carlo Sampling.</span>
<span class="go">        UQpy: Monte Carlo Sampling Complete.</span>
<span class="go">        [[  3.76433963   6.56961331]</span>
<span class="go">        [  4.70973474   1.40250468]</span>
<span class="go">        [  2.07115224 351.26550921]</span>
<span class="go">        [  5.16162027   1.64183701]</span>
<span class="go">        [  2.92258993   3.38454568]]</span>
</pre></div>
</div>
<p>Provide a correlation matrix between the random variables</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Rho</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">Forward</span><span class="p">(</span><span class="n">dist_object</span><span class="o">=</span><span class="p">[</span><span class="n">dist1</span><span class="p">,</span><span class="n">dist2</span><span class="p">],</span> <span class="n">samples</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">samples</span><span class="p">,</span> <span class="n">cov</span><span class="o">=</span><span class="n">Rho</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Uncorrelated standard normal samples:&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">u</span><span class="p">)</span>
<span class="go">        Uncorrelated standard normal samples:</span>
<span class="go">        [[ 0.04812662  0.44122749]</span>
<span class="go">        [ 0.50108916 -0.33087015]</span>
<span class="go">        [-1.01129063  2.43077119]</span>
<span class="go">        [ 0.6964691  -0.25209213]</span>
<span class="go">        [-0.42496562  0.10960984]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Correlated</span> <span class="n">standard</span> <span class="n">normal</span> <span class="n">samples</span><span class="p">:</span><span class="s1">&#39;, y.z)</span>
<span class="go">        Correlated standard normal samples:</span>
<span class="go">        [[ 0.04812662  0.26471437]</span>
<span class="go">         [ 0.50108916  0.26487295]</span>
<span class="go">         [-1.01129063  0.35727675]</span>
<span class="go">         [ 0.6964691   0.47326136]</span>
<span class="go">         [-0.42496562 -0.31113451]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Distorder correlation matrix:&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">Cz</span><span class="p">)</span>
<span class="go">        Distorder correlation matrix:</span>
<span class="go">        [[1.         0.86261522]</span>
<span class="go">        [0.86261522 1.        ]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Jacobian of the transformation of the first sample:&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">Jxu</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">        Jacobian of the transformation of the first sample:</span>
<span class="go">        [[0.51722095 0.        ]</span>
<span class="go">        [0.0656519  0.03850003]]</span>
</pre></div>
</div>
</div>
<div class="section" id="inverse">
<h3>Inverse<a class="headerlink" href="#inverse" title="Permalink to this headline">¶</a></h3>
<p>This is the class that runs the inverse Nataf transformation.</p>
<p>Usage example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">UQpy.Transformations</span> <span class="kn">import</span> <span class="n">Inverse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">UQpy.Distributions</span> <span class="kn">import</span> <span class="n">Gamma</span><span class="p">,</span> <span class="n">Lognormal</span><span class="p">,</span> <span class="n">Normal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist</span> <span class="o">=</span> <span class="n">Normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist1</span> <span class="o">=</span> <span class="n">Gamma</span><span class="p">(</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist2</span> <span class="o">=</span> <span class="n">Lognormal</span><span class="p">(</span><span class="n">s</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">MCS</span><span class="p">(</span><span class="n">dist_object</span><span class="o">=</span><span class="p">[</span><span class="n">dist</span><span class="p">,</span> <span class="n">dist</span><span class="p">],</span> <span class="n">nsamples</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">samples</span><span class="p">)</span>
<span class="go">        UQpy: Running Monte Carlo Sampling.</span>
<span class="go">        UQpy: Monte Carlo Sampling Complete.</span>
<span class="go">        [[-0.41675785  1.62434536]</span>
<span class="go">        [-0.05626683 -0.61175641]</span>
<span class="go">        [-2.1361961  -0.52817175]</span>
<span class="go">        [ 1.64027081 -1.07296862]</span>
<span class="go">        [-1.79343559  0.86540763]]</span>
</pre></div>
</div>
<p>Provide a correlation matrix between the random variables</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Rho</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">Inverse</span><span class="p">(</span><span class="n">dist_object</span><span class="o">=</span><span class="p">[</span><span class="n">dist1</span><span class="p">,</span><span class="n">dist2</span><span class="p">],</span> <span class="n">samples</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">samples</span><span class="p">,</span> <span class="n">cov</span><span class="o">=</span><span class="n">Rho</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Uncorrelated standard normal samples:&#39;</span><span class="p">,</span> <span class="n">q</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>
<span class="go">        Correlated standard normal samples:</span>
<span class="go">        [[-0.41675785  1.32203398]</span>
<span class="go">        [-0.05626683 -0.58319075]</span>
<span class="go">        [-2.1361961  -1.33855585]</span>
<span class="go">        [ 1.64027081 -0.32728366]</span>
<span class="go">        [-1.79343559  0.07578496]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Correlated</span> <span class="n">standard</span> <span class="n">normal</span> <span class="n">samples</span><span class="p">:</span><span class="s1">&#39;, y.x)</span>
<span class="go">        Correlated standard normal samples:</span>
<span class="go">        [[ 2.93597783 70.01368531]</span>
<span class="go">         [ 3.56611641  0.79970463]</span>
<span class="go">         [ 0.95463233  0.94521439]</span>
<span class="go">         [ 7.73948904  0.3179258 ]</span>
<span class="go">         [ 1.23023994 15.34539239]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Distorder correlation matrix:&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">Cz</span><span class="p">)</span>
<span class="go">        Distorder correlation matrix:</span>
<span class="go">        [[1.         0.12103547]</span>
<span class="go">         [0.12103547 1.        ]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Jacobian of the transformation of the first sample:&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">Jxu</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">        Jacobian of the transformation of the first sample:</span>
<span class="go">        [[ 0.61211596  0.        ]</span>
<span class="go">         [-0.26714931  0.00499148]]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="correlate">
<h2>Correlate<a class="headerlink" href="#correlate" title="Permalink to this headline">¶</a></h2>
<p>This is a class to correlate standard normal variables according to</p>
<div class="math notranslate nohighlight">
\[\mathbf{z}^\intercal = \mathbf{Hu}^\intercal\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathbf{u}\)</span> is the vector of uncorrelated standard normal samples and  <span class="math notranslate nohighlight">\(\mathbf{H}\)</span> is the lower triangular matrix obtained from the <cite>Cholesky</cite> decomposition of the covariance matrix <span class="math notranslate nohighlight">\(\mathbf{C_Z}\)</span>, i.e. <span class="math notranslate nohighlight">\(\mathbf{C_Z}=\mathbf{H}\mathbf{H}^\intercal\)</span>.</p>
<p>For example, if we want to correlate standard normal samples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">UQpy.Transformations</span> <span class="kn">import</span> <span class="n">Correlate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">UQpy.Distributions</span> <span class="kn">import</span> <span class="n">Normal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist1</span> <span class="o">=</span> <span class="n">Normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist2</span> <span class="o">=</span> <span class="n">Normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">MCS</span><span class="p">(</span><span class="n">dist_object</span><span class="o">=</span><span class="p">[</span><span class="n">dist1</span><span class="p">,</span><span class="n">dist2</span><span class="p">],</span> <span class="n">nsamples</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">samples</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/Transformations_uncorrelate.png"><img alt="Unorrelated standard normal samples" class="align-center" src="_images/Transformations_uncorrelate.png" style="width: 407.0px; height: 280.0px;" /></a>
<p>according to the correlation matrix</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cov</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]])</span>
</pre></div>
</div>
<p>we can do it by simply typing:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="n">Correlate</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">cov</span><span class="p">)</span><span class="o">.</span><span class="n">z</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/Transformations_correlate.png"><img alt="Correlated standard normal samples obtained with the ``Correlate`` class." class="align-center" src="_images/Transformations_correlate.png" style="width: 426.0px; height: 285.0px;" /></a>
<dl class="class">
<dt id="UQpy.Transformations.Correlate">
<em class="property">class </em><code class="sig-prename descclassname">UQpy.Transformations.</code><code class="sig-name descname">Correlate</code><span class="sig-paren">(</span><em class="sig-param">input_samples=None</em>, <em class="sig-param">corr_norm=None</em>, <em class="sig-param">dimension=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/UQpy/Transformations.html#Correlate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#UQpy.Transformations.Correlate" title="Permalink to this definition">¶</a></dt>
<dd><p>Description:
A class to correlate standard normal samples ~ N(0, 1) given a correlation matrix.</p>
<p>Input:
:param input_samples: An object of a SampleMethods class or an array of standard normal samples ~ N(0, 1).
:type input_samples: object or ndarray</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>corr_norm</strong> (<em>ndarray</em>) – The correlation matrix of the random variables in the standard normal space.</p>
</dd>
</dl>
<dl class="simple">
<dt>param: distribution: An object list containing the distributions of the random variables.</dt><dd><p>Each item in the list is an object of the Distribution class (see Distributions.py).
The list has length equal to dimension.</p>
</dd>
</dl>
<dl class="field-list simple">
</dl>
<p>Output:
:return: Correlate.samples: Set of correlated normal samples.
:rtype: Correlate.samples: ndarray</p>
</dd></dl>

</div>
<div class="section" id="uncorrelate">
<h2>Uncorrelate<a class="headerlink" href="#uncorrelate" title="Permalink to this headline">¶</a></h2>
<p>This is a class to uncorrelate standard normal variables according to</p>
<div class="math notranslate nohighlight">
\[\mathbf{u}^\intercal = \mathbf{H^{-1}z}^\intercal\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathbf{z}\)</span> is the vector of correlated standard normal samples and <span class="math notranslate nohighlight">\(\mathbf{H}\)</span> is the lower triangular matrix obtained from the <cite>Cholesky</cite> decomposition of the covariance matrix <span class="math notranslate nohighlight">\(\mathbf{C_Z}\)</span>, i.e. <span class="math notranslate nohighlight">\(\mathbf{C_Z}=\mathbf{H}\mathbf{H}^\intercal\)</span>.</p>
<p>For example, we can use the <code class="docutils literal notranslate"><span class="pre">Uncorrelate</span></code> class to uncorrelate the samples <strong>z</strong> from the <code class="docutils literal notranslate"><span class="pre">Correlate</span></code> class example by simply typing:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">Uncorrelate</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">cov</span><span class="p">)</span><span class="o">.</span><span class="n">u</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/Transformations_uncorrelate.png"><img alt="Unorrelated standard normal samples obtained with the ``Uncorrelate`` class." class="align-center" src="_images/Transformations_uncorrelate.png" style="width: 407.0px; height: 280.0px;" /></a>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.jpg" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Uncertainty quantification with Python </p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=SURG&repo=UQpy&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="runmodel.html">RunModel</a></li>
<li class="toctree-l1"><a class="reference internal" href="distributions.html">Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="samplemethods.html">SampleMethods</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Transformations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#nataf">Nataf</a></li>
<li class="toctree-l2"><a class="reference internal" href="#correlate">Correlate</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uncorrelate">Uncorrelate</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stochastic_process.html">StochasticProcess</a></li>
<li class="toctree-l1"><a class="reference internal" href="surrogates.html">Surrogates</a></li>
<li class="toctree-l1"><a class="reference internal" href="reliability.html">Reliability</a></li>
<li class="toctree-l1"><a class="reference internal" href="inference.html">Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="dimension_reduction.html">Dimension reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="news.html">News</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="samplemethods.html" title="previous chapter">SampleMethods</a></li>
      <li>Next: <a href="stochastic_process.html" title="next chapter">StochasticProcess</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, SURG, JHU.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/transformations.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/SURG/UQpy" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>