
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Transformations &#8212; UQpy v3.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="StochasticProcess" href="stochastic_process.html" />
    <link rel="prev" title="SampleMethods" href="samplemethods.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="transformations">
<span id="id1"></span><h1>Transformations<a class="headerlink" href="#transformations" title="Permalink to this headline">¶</a></h1>
<p>This module contains functionality for all the transformations methods supported in <code class="docutils literal notranslate"><span class="pre">UQpy</span></code>.
The module currently contains the following classes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Isoprob</span></code>: Class to perform isoprobabilistic transformations.</p></li>
</ul>
<div class="section" id="isoprobabilistic">
<h2>Isoprobabilistic<a class="headerlink" href="#isoprobabilistic" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Isoprob</span></code> is   a   class   for   transforming  non-Gaussian depedent random  variables  to independent standard Gaussian. It is the parent class of the <code class="docutils literal notranslate"><span class="pre">Nataf</span></code> and <code class="docutils literal notranslate"><span class="pre">InvNataf</span></code> classes that perform the Nataf transformation and its inverse, respectively.</p>
<div class="section" id="nataf">
<h3>Nataf<a class="headerlink" href="#nataf" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Nataf</span></code> is   a   class   for   transforming   random   variables   using   the   <cite>Nataf</cite> transformation  and  calculating  the  correlation  distortion.    According  to  the Nataf transformation theory (<a class="footnote-reference brackets" href="#id6" id="id2">1</a>, <a class="footnote-reference brackets" href="#id7" id="id3">2</a>), a <cite>n</cite>-dimensional dependent random vector <span class="math notranslate nohighlight">\(\textbf{x}=[X_1,...,X_n]\)</span> for which the  marginal cumulative distributions <span class="math notranslate nohighlight">\(F_i(x_i)\)</span>  and the correlattion matrix <span class="math notranslate nohighlight">\(\textbf{C}_x=[\xi_{ij}]\)</span> are known, can be transformed (component-wise) to standard normal random vector <span class="math notranslate nohighlight">\(\textbf{z}=[Z_1,...,Z_n]\)</span> with correlation matrix <span class="math notranslate nohighlight">\(\textbf{C}_z=[\rho_{ij}]\)</span> through the transformation:</p>
<div class="math notranslate nohighlight">
\[Z_{i}=\Phi^{-1}(F_i(X_{i}))\]</div>
<p>where <span class="math notranslate nohighlight">\(\Phi(\cdot)\)</span> is the standard normal cumulative distribution function.</p>
<p>This transformation causes a <cite>correlation distortion</cite>; the correlation coefficient between the standard normal variables <span class="math notranslate nohighlight">\(Z_i\)</span> and <span class="math notranslate nohighlight">\(Z_j\)</span> is not equal to its counterpart in the  random space (<span class="math notranslate nohighlight">\(\rho_{ij} \neq \xi_{ij}\)</span>). In this case <span class="math notranslate nohighlight">\(\rho_{ij}\)</span> can be determined through the following integral equation:</p>
<div class="math notranslate nohighlight">
\[\xi_{ij} =\dfrac{1}{\sigma_{X_i}\sigma_{X_j}}\int_{-\infty}^{\infty}\int_{-\infty}^{\infty}\left(X_i-\mu_{X_i}\right)\left(X_j-\mu_{X_j}\right)\phi_2(Z_i,Z_j;\rho_{ij})dZ_idZ_j\]</div>
<p>where <span class="math notranslate nohighlight">\(X_i =F_i^{-1}(\Phi(Z_{i}))\)</span> and <span class="math notranslate nohighlight">\(\phi_2(\cdot)\)</span> is the bivariate standard normal probability density function. The integration is directly evaluated using a quadratic two-dimensional Gauss-Legendre integration.</p>
<p>After the correlation matrix <span class="math notranslate nohighlight">\(\textbf{C}_z=[\rho_{ij}]\)</span> is determined, the mutually independent standard normal vector <span class="math notranslate nohighlight">\(\textbf{Y}=[Y_1,...,Y_n]\)</span> can be calculated as:</p>
<div class="math notranslate nohighlight">
\[\textbf{y}^\intercal = \mathbf{H}^{-1} \mathbf{z}^\intercal\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathbf{H}\)</span> is the lower triangular matrix resulting from the Cholesky decomposition of the correlation matrix, i.e. <span class="math notranslate nohighlight">\(\mathbf{C_z}=\mathbf{H}\mathbf{H}^\intercal\)</span>.</p>
<p>The Jacobian of the Nataf transformation can be also estimated with the <code class="docutils literal notranslate"><span class="pre">Nataf</span></code> class as:</p>
<div class="math notranslate nohighlight">
\[\mathbf{J_{xy}}=\dfrac{\partial\mathbf{x}}{\partial\mathbf{y}}= \dfrac{\partial\mathbf{x}}{\partial\mathbf{z}} =\left[\dfrac{\phi(Z_i)}{f_i(X_i)}\right]\mathbf{H}.\]</div>
<dl class="class">
<dt id="UQpy.Transformations.Nataf">
<em class="property">class </em><code class="sig-prename descclassname">UQpy.Transformations.</code><code class="sig-name descname">Nataf</code><span class="sig-paren">(</span><em class="sig-param">input_samples=None</em>, <em class="sig-param">dimension=None</em>, <em class="sig-param">corr=None</em>, <em class="sig-param">dist_name=None</em>, <em class="sig-param">dist_params=None</em>, <em class="sig-param">beta=None</em>, <em class="sig-param">itam_error1=None</em>, <em class="sig-param">itam_error2=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/UQpy/Transformations.html#Nataf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#UQpy.Transformations.Nataf" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Description:</dt><dd><p>A class to perform the Nataf transformation of samples from a user-defined distribution to N(0, 1).</p>
</dd>
<dt>Input:</dt><dd><dl class="field-list">
<dt class="field-odd">param input_samples</dt>
<dd class="field-odd"><p>An object of type SampleMethods, ndarray and InvNataf</p>
</dd>
<dt class="field-even">type input_samples</dt>
<dd class="field-even"><p>object</p>
</dd>
<dt class="field-odd">param dist_name</dt>
<dd class="field-odd"><p>A list containing the names of the distributions of the random variables.
Distribution names must match those in the Distributions module.
If the distribution does not match one from the Distributions module, the user must provide
custom_dist.py.
The length of the string must be 1 (if all distributions are the same) or equal to dimension</p>
</dd>
<dt class="field-even">type dist_name</dt>
<dd class="field-even"><p>string list</p>
</dd>
<dt class="field-odd">param dist_params</dt>
<dd class="field-odd"><p>Parameters of the distribution
Parameters for each random variable are defined as ndarrays
Each item in the list, dist_params[i], specifies the parameters for the corresponding distribution,</p>
<blockquote>
<div><p>dist[i]</p>
</div></blockquote>
</dd>
<dt class="field-even">type dist_params</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>param: distribution: An object list containing the distributions of the random variables.</dt><dd><p>Each item in the list is an object of the Distribution class (see Distributions.py).
The list has length equal to dimension.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">type distribution</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p>:param corr The correlation matrix of the random variables in the parameter space.
:type corr: ndarray</p>
<dl class="field-list simple">
<dt class="field-odd">param itam_error1</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type itam_error1</dt>
<dd class="field-even"><p>float</p>
</dd>
<dt class="field-odd">param itam_error2</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type itam_error1</dt>
<dd class="field-even"><p>float</p>
</dd>
<dt class="field-odd">param beta</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type itam_error1</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd>
<dt>Output:</dt><dd><dl class="field-list simple">
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>Nataf.corr: The distorted correlation matrix of the random variables in the standard space;</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>Nataf.corr: ndarray</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>Nataf.samplesN01: An array of N(0,1) samples;</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>Nataf.corr: ndarray</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>Nataf.samples: An array of samples following the normal distribution.</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>Nataf.corr: ndarray</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>Nataf.jacobian: An array containing the Jacobian of the transformation.</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>Nataf.jacobian: ndarray</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="invnataf">
<h3>InvNataf<a class="headerlink" href="#invnataf" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">InvNataf</span></code> class performs the the inverse Nataf transformation. From a mutually independent standard normal vector <span class="math notranslate nohighlight">\(\textbf{y}=[Y_1,...,Y_n]\)</span> obtain the correlated standard normal vector <span class="math notranslate nohighlight">\(\textbf{z}=[Z_1,...,Z_n]\)</span></p>
<div class="math notranslate nohighlight">
\[\mathbf{z}^\intercal = \mathbf{H}\mathbf{y}^\intercal\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathbf{H}\)</span> is the lower triangular matrix resulting from the Cholesky decomposition of the correlation matrix, i.e. <span class="math notranslate nohighlight">\(\mathbf{C_z}=\mathbf{H}\mathbf{H}^\intercal\)</span>. Then transform :math:<a href="#id4"><span class="problematic" id="id5">`</span></a>textbf{z}’ to</p>
<div class="math notranslate nohighlight">
\[X_{i}=F_i^{-1}(\Phi(Z_{i}))\]</div>
<dl class="class">
<dt id="UQpy.Transformations.InvNataf">
<em class="property">class </em><code class="sig-prename descclassname">UQpy.Transformations.</code><code class="sig-name descname">InvNataf</code><span class="sig-paren">(</span><em class="sig-param">input_samples=None</em>, <em class="sig-param">corr_norm=None</em>, <em class="sig-param">dist_name=None</em>, <em class="sig-param">dist_params=None</em>, <em class="sig-param">dimension=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/UQpy/Transformations.html#InvNataf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#UQpy.Transformations.InvNataf" title="Permalink to this definition">¶</a></dt>
<dd><p>Description:</p>
<blockquote>
<div><p>A class to perform the inverse Nataf transformation of samples from N(0, 1) to a user-defined distribution.</p>
</div></blockquote>
<dl>
<dt>Input:</dt><dd><dl class="field-list simple">
<dt class="field-odd">param input_samples</dt>
<dd class="field-odd"><p>An object of a SampleMethods class containing N(0,1) samples or an array of N(0,1)
samples.</p>
</dd>
<dt class="field-even">type input_samples</dt>
<dd class="field-even"><p>object or ndarray</p>
</dd>
<dt class="field-odd">param dist_name</dt>
<dd class="field-odd"><p>A list containing the names of the distributions of the random variables.
Distribution names must match those in the Distributions module.
If the distribution does not match one from the Distributions module,the user must provide
custom_dist.py.
The length of the string must be 1 (if all distributions are the same) or equal to
dimension.</p>
</dd>
<dt class="field-even">type dist_name</dt>
<dd class="field-even"><p>string list</p>
</dd>
<dt class="field-odd">param dist_params</dt>
<dd class="field-odd"><p>Parameters of the distribution.
Parameters for each random variable are defined as ndarrays
Each item in the list, dist_params[i], specifies the parameters for the corresponding
distribution, dist[i].</p>
</dd>
<dt class="field-even">type dist_params</dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">param corr_norm</dt>
<dd class="field-odd"><p>The correlation matrix of the random variables in the standard normal space</p>
</dd>
<dt class="field-even">type corr_norm</dt>
<dd class="field-even"><p>ndarray</p>
</dd>
</dl>
<dl class="simple">
<dt>param: distribution: An object list containing the distributions of the random variables.</dt><dd><p>Each item in the list is an object of the Distribution class (see Distributions.py).
The list has length equal to dimension.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">type distribution</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd>
<dt>Output:</dt><dd><dl class="field-list simple">
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>InvNataf.corr: The distorted correlation matrix of the random variables in the standard space;</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>InvNataf.corr: ndarray</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>InvNataf.samplesN01: An array of N(0,1) samples;</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>InvNataf.corr: ndarray</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>InvNataf.samples: An array of samples following the prescribed distributions;</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>InvNataf.corr: ndarray</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>InvNataf.jacobian: An array containing the Jacobian of the transformation.</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>InvNataf.jacobian: ndarray</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<p>The <code class="docutils literal notranslate"><span class="pre">Nataf</span></code> and <code class="docutils literal notranslate"><span class="pre">InvNataf</span></code>  classes can be imported in a python script using the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">UQpy.Transformations</span> <span class="k">import</span> <span class="n">Forward</span><span class="p">,</span> <span class="n">Inverse</span>
</pre></div>
</div>
<p><strong>References:</strong></p>
<dl class="footnote brackets">
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id2">1</a></span></dt>
<dd><p>A. Nataf, “Determination des distributions dont les marges sont donnees”, C. R. Acad. Sci.
vol. 225, pp. 42-43, Paris, 1962.</p>
</dd>
<dt class="label" id="id7"><span class="brackets"><a class="fn-backref" href="#id3">2</a></span></dt>
<dd><p>R. Lebrun and A. Dutfoy, “An innovating analysis of the Nataf transformation from the copula viewpoint”,
Prob. Eng. Mech.,  vol. 24, pp. 312-320, 2009.</p>
</dd>
</dl>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.jpg" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Uncertainty quantification with Python </p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=SURG&repo=UQpy&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="runmodel.html">RunModel</a></li>
<li class="toctree-l1"><a class="reference internal" href="distributions.html">Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="samplemethods.html">SampleMethods</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Transformations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#isoprobabilistic">Isoprobabilistic</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stochastic_process.html">StochasticProcess</a></li>
<li class="toctree-l1"><a class="reference internal" href="surrogates.html">Surrogates</a></li>
<li class="toctree-l1"><a class="reference internal" href="reliability.html">Reliability</a></li>
<li class="toctree-l1"><a class="reference internal" href="inference.html">Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="dimension_reduction.html">DimensionReduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="news.html">News</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="samplemethods.html" title="previous chapter">SampleMethods</a></li>
      <li>Next: <a href="stochastic_process.html" title="next chapter">StochasticProcess</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, SURG, JHU.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/transformations.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/SURG/UQpy" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>